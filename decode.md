# 嵌套加密
**文件名:decode.cpp/in/out**
**限制: 2s/128M**

Tips:如果看不懂题面，可以去看看样例解释。

小B的电脑密码是一个数字。由于怕被jfca他并不想让人知道他的密码是多少，但是小B又怕忘记密码。于是他使用了独创高科技加密方法——KPSE方法（全名K-PowSum Encode）把密码加密了。
这种方法是怎么把密码加密的呢？
1、选定两个正整数$k,p$
2、让计算机生成一个正整数$R\leq randmax$
3、求出$y=(\sum_{i=1}^{R}i^k)\mod p$
4、将原数x变为$x\ xor\ y$
这样加密之后如果你知道计算机生成的数$R$与自己设的$k$就能有办法解开原密码啦。而$p$是为了方便计算机操作，防止爆龙龙。

然而，小B不满足于这点加密程度。他想要试图破解的人心态炸裂。。于是他决定采用“嵌套加密策略：
他可能把生成的数再用同样的方法加密。
然后又会有一个新的数生成用来解密它。
然后他可能又会把这个生成的新数再用同样的方法拿去加密……

这样做$T$次后，你会得到$T$个被加密的数字，和一个新生成的未被加密的随机数。

而你要做的，就是帮小B写一个“嵌套解码”程序，把原密码解出来。
## Input Format
第一行三个数$T,randmax,k,p$分别代表小B的嵌套加密次数和选定的三个加密参数（加密参数意义见题面）。
随后$T-1$行每行一个数，其中第一个是被加密的原密码$A$，其余的是加密前一个数字时用到的随机数$R$（当然这些随机数也是已经被后一个加密过的）。
随后一行一个数，为最后一次加密时生成的随机数$R$。
## Output Format
一行一个数，代表原密码。
## Sample
### Input #1
```
4 2 5 998244853
5075
1297
272
34
3
1
```
### Output #1
```
666
```
### Sample #1 Explanation
所有数字加密前的样子：
```
666
5
4
3
2
1
```
按题面的方法加密可得样例输入。
###  Input #2 && Output #2
见下发文件*down/decode2.in*与*down/decode2.ans*
该点满足性质$k=3$
## Data Range
对于$20\%$的数据，$randmax\leq 10^5$；
对于另外$10\%$的数据，$k=2$；
对于另外$10\%$的数据，$k=3$；
对于另外$20\%$的数据，$T=1$；
对于另外$20\%$的数据，$p=998244353$；
对于$100\%$的数据，$A,randmax,p\leq 10^9,k,T\leq100$；
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTM3MzMzMjI0NF19
-->